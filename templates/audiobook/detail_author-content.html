<div class="w-full pt-5 pl-10 flex flex-row">
    <img class="bg-cyan-900 w-80 h-80" src="{{ audiobook.thumbnail }}" alt="book-cover">
    <div class="flex pl-5 flex-col">
        <div class="pt-1">{{ audiobook.genre_name }}</div>
        <div class="book-name  text-6xl font-bold">{{audiobook.name}}</div>
        <div class="pt-5 flex flex-row items-center" >
            {% if audiobook.profile_picture == "" %}
            <img class="w-24 h-24 rounded-full" style="background-color: #cccccc" src="./media/user_icon.png" />
            {% else %}
            <img class="w-24 h-24 rounded-full" style="background-color: #cccccc" src="{{ audiobook.profile_picture }}" />
            {% endif %}
            <div class="text-3xl pl-5">{{ audiobook.author_name }}</div>
        </div>
        <div class="pt-5 like-count flex flex-row items-center justify-self-end">

            <button hx-patch="/audiobook/{{audiobook.id}}/likes" hx-target="#like-count" hx-swap="outerHTML">
                <div id="like-count" class="flex items-center pl-5 text-3xl">
                    {% if is_liked %}
                    <i class="fa-solid fa-heart text-4xl"></i> <p class="pl-5 text-gray-300 text-sm">{{ audiobook.like_count }}</p>
                    {% else %}
                    <i class="fa-regular fa-heart text-4xl"></i> <p class="pl-5 text-gray-300 text-sm">{{ audiobook.like_count }}</p>
                    {% endif %}
                </div>
            </button>
        </div>
    </div>
</div>
<a href="/audiobook/studio/{{ audiobook.id }}/delete">Delete Audiobook</a>

<!--            <div hx-get="/chapter/audiobook/{{ audiobook.id }}" hx-trigger="load" hx-swap="afterend">-->
<!--                Chapters-->
<!--            </div>-->
<form hx-post="/chapter/create/form" hx-swap="afterend" class="mb-4">
    <input type="hidden" name="audiobook_id" value="{{ audiobook.id }}">
    <input type="hidden" name="position" value="1">
    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4">
        Add new chapter
    </button>
</form>

<div class="flex flex-row justify-center">
    <button id="play-from-detail-btn" hx-get="/audiobook/{{audiobook.id}}/player"
            hx-target="#player-container"
            hx-swap="outerHTML"
            class="bg-cyan-950 rounded-md p-4 text-2xl font-bold">
        <i class="fa-solid fa-play pr-2" style="color: #ffffff;"></i>
        Play
    </button>
</div>
<div class="flex flex-row">
    <div class="flex-1 pt-5 pl-10">
        <h2 class="text-2xl font-bold mb-4">Chapters</h2>
        {% for chapter in chapters %}
        {% include "audiobook/chapter.html" %}
        {% endfor %}
    </div>
    <div class="flex-1 pt-5 pl-10">
        <h2 class="text-2xl font-bold mb-4">Description</h2>
        <p class="mb-4"> {{audiobook.description}}</p>
        <h2 class="text-2xl font-bold mb-4">About {{audiobook.author_name}} {{audiobook.surname}}</h2>
        <p class="mb-4">
            {{audiobook.bio}}
        </p>
    </div>
</div>