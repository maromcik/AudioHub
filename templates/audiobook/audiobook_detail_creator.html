<div class="container mx-auto p-4 bg-black flex justify-center">
    <div class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 rounded overflow-hidden shadow-lg">


        {% include "audiobook/audiobook_detail_content.html" %}

        <!--    <div class="w-full min-h-96 md:w-1/2 lg:w-1/2 xl:w-1/2 2xl:w-1/2 max-w-2xl rounded overflow-hidden shadow-lg flex flex-col items-center ml-8">-->
        <!--        <div id="chapters-list" class="md:w-1/2 p-4 text-white">-->
        <!--            Chapters-->
        <!--            {% include "chapter/chapters_by_audiobook.html" %}-->
        <!--        </div>-->
        <!--    </div>-->
    </div>
</div>

<button onclick="setCurTime(10)" type="button">Set to chapter</button>
<audio id="audiobook-player" controls>
    <source src="{{ audiobook.file_path }}" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<a href="/audiobook/{{ audiobook.id }}/delete">Delete Audiobook</a>
<form hx-post="/chapter/create" hx-swap="afterend" class="mb-4">
    <input type="hidden" name="audiobook_id" value="{{ audiobook.id }}">
    <input id="chapter-create-form-position" type="hidden" name="position">
    <div class="mb-4">
        <label class="block text-gray-300 text-sm font-bold mb-2" for="chapter-name">
            Chapter Name
        </label>
        <input name="name"
               class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
               id="chapter-name" type="text" placeholder="Chapter Name">
    </div>
    <button onclick="getCurTime()" type="submit"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4">
        Add new chapter
    </button>
</form>
<div class="pl-4 overflow-auto">
    <div id="chapters-list">
        {% include "chapter/chapters_by_audiobook.html" %}
    </div>
</div>

<script>
    let vid = document.getElementById("audiobook-player");
    let pos = document.getElementById("chapter-create-form-position");
    function getCurTime() {
        pos.setAttribute("value", vid.currentTime);
        return vid.currentTime;
    }

    function setCurTime(t) {
        vid.currentTime = t;
    }
</script>